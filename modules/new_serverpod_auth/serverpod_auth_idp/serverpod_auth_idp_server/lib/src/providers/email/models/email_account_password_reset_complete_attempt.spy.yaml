### Database table for tracking password reset attempts.
### A new entry will be created whenever the user tries to complete the password reset.
class: EmailAccountPasswordResetCompleteAttempt
serverOnly: true
table: serverpod_auth_idp_email_account_password_reset_complete
fields:
  id: UuidValue?, defaultPersist=random_v7

  ### The time of the reset attempt.
  attemptedAt: DateTime, defaultModel=now

  ### The IP address of the sign in attempt.
  ipAddress: String

  ### The ID of the password reset request.
  ### This is explicitly not a relation to be able to track dummy requests.
  passwordResetRequestId: UuidValue

indexes:
  serverpod_auth_idp_email_account_password_reset_ip:
    fields: ipAddress

  serverpod_auth_idp_email_account_password_reset_at:
    fields: attemptedAt
