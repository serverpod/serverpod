class: ApiTokenInfo
fields:
  id: UuidValue

  ### The [AuthUser] this API token belongs to
  authUserId: UuidValue

  ### The scopes this API token provides access to.
  ###
  ### These are not connected to the [authUser], and can for example represent a subset of their permissions.
  scopeNames: Set<String>

  ### The time when this API token was created.
  created: DateTime

  ### The time when this access token was last used.
  ###
  ### Operates only with minute resolution, to avoid excessive writes to the database.
  lastUsed: DateTime

  ### The time after which this token can not be used anymore.
  ###
  ### If `null`, the token can be used indefinitely.
  expiresAt: DateTime?

  ### The maximum duration this token can go unused.
  ###
  ### If set, and the token is used after [lastUsed] + [expireAfterUnusedFor], then it will be rejected.
  ###
  ### If `null`, the token is valid until [expiresAt].
  expireAfterUnusedFor: Duration?

  ### The kind of API token this represents.
  ###
  ### This does not impact the behavior of the token, but can be useful for debugging.
  ### For example this could be used to differentiate between anonymous accounts, personal access tokens, or service accounts.
  kind: String, default=""
